<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Attendance Summary - Session {{ session_id }}</title>
    <style>
      :root {
        --bg: #ffffff;
        --text: #1a1a1a;
        --muted: #666;
        --card: #f7f7f8;
        --green: #3add36;
        --red: #f44336;
        --border: #e1e1e3;
      }
      body { font-family: "Segoe UI", Arial, sans-serif; margin: 20px; color: var(--text); background: var(--bg); }
      .title { font-size: 20pt; font-weight: 700; display: flex; align-items: center; gap: 8px; }
      .title .emoji { font-size: 22pt; }
      .meta { margin-top: 12px; padding: 12px; background: var(--card); border: 1px solid var(--border); border-radius: 8px; }
      .meta-row { display: grid; grid-template-columns: 1fr 1fr; gap: 8px 16px; }
      .meta .label { color: var(--muted); font-weight: 600; }
      .stats { display: flex; gap: 16px; margin-top: 14px; }
      .stat { flex: 1; background: var(--card); border: 1px solid var(--border); border-radius: 8px; padding: 12px; }
      .stat .value { font-size: 18pt; font-weight: 700; }
      .stat.present { border-left: 4px solid var(--green); }
      .stat.absent { border-left: 4px solid var(--red); }
      .lists { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-top: 18px; }
      .panel { background: var(--card); border: 1px solid var(--border); border-radius: 8px; }
      .panel h3 { margin: 0; padding: 10px 12px; border-bottom: 1px solid var(--border); font-size: 12pt; }
      .panel ul { list-style: none; padding: 10px 16px; margin: 0; }
      .panel li { padding: 6px 0; border-bottom: 1px dashed var(--border); }
      .panel li:last-child { border-bottom: none; }
      .panel.empty { color: var(--muted); padding: 12px; }
      .actions { margin-top: 16px; display: flex; gap: 10px; }
      .btn { padding: 10px 14px; border: 1px solid var(--border); border-radius: 6px; cursor: pointer; text-decoration: none; color: inherit; background: #fff; }
      .btn.primary { background: var(--green); color: #fff; border-color: var(--green); font-weight: 600; }
    </style>
  </head>
  <body>
    <div class="title"><span class="emoji">üìù</span> Attendance Session Summary</div>
    <div class="meta">
      <div class="meta-row">
        <div><span class="label">Course:</span> {{ session_info.course_code or '' }} - {{ session_info.course_name or '' }}</div>
        <div><span class="label">Class:</span> {{ session_info.class_name or '' }}</div>
        <div><span class="label">Date:</span> {{ session_info.date or '' }}</div>
        <div><span class="label">Time:</span> {{ session_info.start_time or '' }} - {{ session_info.end_time or '' }}</div>
      </div>
    </div>
    <div class="stats">
      <div class="stat present">
        <div class="label">Students Present</div>
        <div class="value">{{ present_count }} / {{ total_students }}</div>
        <div class="label">{{ attendance_percentage }}%</div>
      </div>
      <div class="stat absent">
        <div class="label">Students Absent</div>
        <div class="value">{{ absent_count }}</div>
      </div>
    </div>
    <div class="actions">
      <button class="btn primary" onclick="window.print()">‚¨á Export PDF</button>
      <a class="btn" href="{{ url_for('attendance.sessions_list') }}">‚Üê Back to Sessions</a>
    </div>
    <div class="lists">
      <div class="panel">
        <h3>Present Students ({{ present_count }})</h3>
        {% if present_names %}
          <ul>
            {% for name in present_names %}
              <li>{{ name }}</li>
            {% endfor %}
          </ul>
        {% else %}
          <div class="panel empty">No students present.</div>
        {% endif %}
      </div>
      <div class="panel">
        <h3>Absent Students ({{ absent_count }})</h3>
        {% if absent_names %}
          <ul>
            {% for name in absent_names %}
              <li>{{ name }}</li>
            {% endfor %}
          </ul>
        {% else %}
          <div class="panel empty">No students absent.</div>
        {% endif %}
      </div>
    </div>
  </body>
  </html>

